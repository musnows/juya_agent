# 文件重命名修改说明

## 修改内容

### 1. 文件命名格式更改
- **原格式**: `BV号_日期_AI早报.ext`
- **新格式**: `日期_AI早报_BV号.ext`

**示例**:
- 原: `BV1FB1UBDEct_2025-11-08_AI早报.md`
- 新: `2025-11-08_AI早报_BV1FB1UBDEct.md`

### 2. 涉及文件类型
- `.md` Markdown文档文件
- `.json` JSON数据文件

### 3. 修改的代码文件

#### `main.py`
- 修改了两处文件名生成逻辑：
  1. `process_video` 方法中的文件名生成 (第197行)
  2. `process_history_reports` 方法中的文件名生成 (第398行)

#### 新增 `rename_files.py`
- 创建了批量重命名脚本，用于处理现有的旧格式文件
- 支持预览模式和执行模式
- 自动更新 `data/processed_videos.json` 中的文件路径引用

## 重命名脚本使用说明

### 预览重命名变更
```bash
python rename_files.py --preview
```

### 执行批量重命名
```bash
python rename_files.py --execute
```

### 默认执行重命名
```bash
python rename_files.py
```

## 执行结果

✅ 成功重命名文件: 31个
⏭️ 跳过文件: 1个 (`history_report_20251122_085344.json` - 不符合旧格式)
❌ 错误文件: 0个

## 优势

1. **按时间排序**: 新格式按日期排序，便于按时间查找和管理
2. **一致性**: 所有AI早报文件都采用统一的命名格式
3. **可读性**: 日期在前，更容易识别文件的时间属性
4. **兼容性**: 自动更新了处理记录文件中的路径引用

## 注意事项

- 脚本会自动跳过不符合旧格式的文件
- 如果目标文件已存在，会跳过重命名避免覆盖
- 所有操作都会在执行前打印详细信息，便于跟踪进度
- 脚本会自动更新 `data/processed_videos.json` 中的路径引用